<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Login to ZuidWest FM Encoder">
    <title>Login - ZuidWest FM Encoder</title>
    <link rel="canonical" href="/login">
    <link rel="stylesheet" href="/style.css">
</head>
<body class="login-page">
    <script>
        const mq = window.matchMedia('(prefers-color-scheme: dark)');
        if (mq.matches) document.documentElement.classList.add('dark');
        mq.addEventListener('change', e => document.documentElement.classList.toggle('dark', e.matches));
    </script>

    <main class="container">
        <section class="card">
            <div class="card__header card__header--brand">
                <h1>ZuidWest FM Encoder</h1>
            </div>
            <div class="card__body">
                <div class="login__logo">
                    <svg class="app-logo" viewBox="0 0 512 512" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                        <path d="M369.8,148.3h-35.5c-2.8,0-5-2.2-5-5v-94c0-1.4,0.6-2.7,1.6-3.7l17.8-16.5c1.9-1.8,4.9-1.8,6.8,0l17.8,16.5c1,0.9,1.6,2.3,1.6,3.7v94C374.8,146,372.6,148.3,369.8,148.3z M339.3,138.3h25.5V51.4l-12.8-11.9l-12.8,11.9V138.3z"/>
                        <path d="M369.8,79h-35.5c-2.8,0-5-2.2-5-5s2.2-5,5-5h35.5c2.8,0,5,2.2,5,5S372.6,79,369.8,79z"/>
                        <path d="M291.8,484.3h-1.2c-36,0-65.3-29.3-65.3-65.3V241c0-30.5-24.8-55.3-55.3-55.3c-14.8,0-28.6,5.7-39.1,16.2c-10.4,10.4-16.2,24.3-16.2,39.1v238.3c0,2.8-2.2,5-5,5s-5-2.2-5-5V241c0-17.4,6.8-33.8,19.1-46.1c12.3-12.3,28.7-19.1,46.1-19.1c36,0,65.3,29.3,65.3,65.3v178c0,30.5,24.8,55.3,55.3,55.3h1.2c30.5,0,55.3-24.8,55.3-55.3v-79.3c0-2.8,2.2-5,5-5s5,2.2,5,5V419C357.1,455,327.8,484.3,291.8,484.3z"/>
                        <path d="M378.4,344.8h-52.6c-2.8,0-5-2.2-5-5v-42c0-2.8,2.2-5,5-5h52.6c2.8,0,5,2.2,5,5v42C383.4,342.5,381.1,344.8,378.4,344.8z M330.8,334.8h42.6v-32h-42.6V334.8z"/>
                        <path d="M378.4,303.5c-0.8,0-1.7-0.2-2.4-0.6c0,0-0.1,0-0.1-0.1h-47.5c0,0-0.1,0-0.1,0.1c-1.6,0.9-3.5,0.8-5.1-0.1c-16.3-10.1-26.1-27.6-26.1-46.8V143.3c0-2.8,2.2-5,5-5h100c2.8,0,5,2.2,5,5v112.7c0,19.2-9.7,36.7-26.1,46.8C380.2,303.2,379.3,303.5,378.4,303.5z M326.2,292.8h51.7c12-8.4,19.1-22,19.1-36.8V148.3h-90v107.7C307.1,270.7,314.2,284.3,326.2,292.8z"/>
                        <path d="M378.4,303.5c-0.8,0-1.7-0.2-2.4-0.6c0,0-0.1,0-0.1-0.1h-47.5c0,0-0.1,0-0.1,0.1c-1.6,0.9-3.5,0.8-5.1-0.1c-16.3-10.1-26.1-27.6-26.1-46.8v-63.2c0-2.8,2.2-5,5-5h100c2.8,0,5,2.2,5,5v63.2c0,19.2-9.7,36.7-26.1,46.8C380.2,303.2,379.3,303.5,378.4,303.5z M326.2,292.8h51.7c12-8.4,19.1-22,19.1-36.8v-58.2h-90v58.2C307.1,270.7,314.2,284.3,326.2,292.8z"/>
                    </svg>
                </div>

                {{if .Error}}
                <div class="login__error">
                    <svg viewBox="0 0 20 20" fill="currentColor">
                        <path fill-rule="evenodd" d="M8.485 2.495c.673-1.167 2.357-1.167 3.03 0l6.28 10.875c.673 1.167-.17 2.625-1.516 2.625H3.72c-1.347 0-2.189-1.458-1.515-2.625L8.485 2.495zM10 5a.75.75 0 01.75.75v3.5a.75.75 0 01-1.5 0v-3.5A.75.75 0 0110 5zm0 9a1 1 0 100-2 1 1 0 000 2z" clip-rule="evenodd"/>
                    </svg>
                    <span>Invalid username or password</span>
                </div>
                {{end}}

                <form method="POST" action="/login" class="login__form">
                    <div class="form__group">
                        <label for="username">Username</label>
                        <input type="text" id="username" name="username" autocomplete="username" required autofocus>
                    </div>
                    <div class="form__group">
                        <label for="password">Password</label>
                        <input type="password" id="password" name="password" autocomplete="current-password" required>
                    </div>
                    <button type="submit" class="login__btn">Sign in</button>
                </form>
            </div>
        </section>

        <footer class="footer">
            <div class="footer__links">
                <a rel="noopener" href="https://github.com/oszuidwest/zwfm-encoder" title="View source on GitHub" target="_blank">
                    <span id="github-icon" class="icon-container"></span>
                    GitHub
                </a>
                <span class="footer__sep">|</span>
                <span>Version <span class="footer__version">{{VERSION}}</span></span>
            </div>
            <div class="footer__copyright">© {{YEAR}} Streekomroep ZuidWest • MIT License</div>
        </footer>
    </main>

    <script src="/icons.js"></script>
    <script>
        document.getElementById('github-icon').innerHTML = window.icons.github;
    </script>
</body>
</html>
